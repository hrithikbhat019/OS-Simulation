<!DOCTYPE html>
{% load staticfiles %}
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="{% static 'css/cigsmoker.css' %}" rel="stylesheet" />
</head>

<body>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <div class="container-fluid">
    <center><h1>Ciggerate smoker Problem</h1></center>
    <button type ="button" id="next" class = "btn btn-primary" onclick ="initiate()"> Generate smoker: </button>

    <button type = "button", id ="num", name = "num", class = "btn btn-primary"> Smoker generated: </button>

    <button type = "button", id ="table", name = "table"> </button>


    <button type = "button", id ="one", name = "one" > P1 </button>
    <button type = "button", id ="five", name = "one"> P5 </button>
    <button type = "button", id ="three", name = "one"> P3 </button>

    <div  class="tob s1"  name = "one"> Tobacco </div>

    <div   class ="ocb s2"  name = "one"> Paper </div>
    <div  class ="match s3"  name = "one"> Match </div>

    <div  id="cig1"> </div>
    <div  id="cig2"> </div>
    <div id="cig3"> </div>


    <div  id="tob"> Tobbaco</div>
    <div  id="match">Match </div>
    <div id="ocb">Paper </div>
    <script type = "text/javascript">


    function getRandomArbitrary(min, max) {
            return Math.random() * (max - min) + min;
        }


      var smokers= [0,0,0];
      var ocb=0;
      var tob=0;
      var match=0;


      function initiate()
      {
          var num = Math.random();
          var n = Math.floor(num*3)-1;


          if(n==0)
          {
            var change = document.getElementById("num");
            change.innerHTML ="Random number generated: 1";
          }
          if(n==1)
          {
            var change = document.getElementById("num");
            change.innerHTML ="Random number generated: 2";
          }
          if(n==2)
          {
            var change = document.getElementById("num");
            change.innerHTML ="Random number generated: 3";
          }


          if(n===0){
            if(smokers[n]===0)
            {

              if(match===0 && ocb===0){
                smokers[n]=1;
              document.getElementById('match').style.display='block';
              document.getElementById('ocb').style.display='block';
              match=1;
              ocb=1;
              document.getElementById('cig1').style.display='block';
              }

              else{
                alert('Smoker 1 cannot smoke now');
              }
            }

            else if(smokers[n]==1){
                alert('Smoker 1 has finished smoking');
                match=0;
                ocb=0;
                smokers[n]=0;
                document.getElementById('tob').style.display='none';
                document.getElementById('ocb').style.display='none';
                document.getElementById('match').style.display='none';
                document.getElementById('cig1').style.display='none';
              }


            }





            if(n===1){
              if(smokers[n]==0)
              {

                if (tob==0 && ocb==0){
                  smokers[n]=1
                document.getElementById('tob').style.display='block';
                document.getElementById('ocb').style.display='block';
                tob=1;
                ocb=1;
                document.getElementById('cig2').style.display='block';
                }

                else{
                  alert('Smoker 2 cannot smoke now');
                }
              }

              else if(smokers[n]==1){
                  alert('Smoker 2 has finished smoking');
                  tob=0;
                  ocb=0;
                  smokers[n]=0;
                  document.getElementById('tob').style.display='none';
                  document.getElementById('ocb').style.display='none';
                  document.getElementById('match').style.display='none';
                  document.getElementById('cig2').style.display='none';

                }


              }

              if(n===2){
                if(smokers[n]==0)
                {

                  if (match==0 && tob==0){
                    smokers[n]=1;
                  document.getElementById('match').style.display='block';
                  document.getElementById('tob').style.display='block';
                  match=1;
                  tob=1;
                  document.getElementById('cig3').style.display='block';
                  }

                  else{
                    alert('Smoker 3 cannot smoke now');
                  }
                }

                else if(smokers[n]==1){
                  alert('Smoker 3 has finished smoking');
                    match=0;
                    tob=0;
                    smokers[n]=0;
                    document.getElementById('tob').style.display= 'none';
                    document.getElementById('ocb').style.display= 'none';
                    document.getElementById('match').style.display='none';
                    document.getElementById('cig3').style.display='none';
                  }


                }


      }
    </script>


  </div>
</body>
